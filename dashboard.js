// Пример данных (ты их можешь подгрузить с API)
const objectsData = [
  { title: 'Дворовая территория по адресу: Путевой пр. 38', statusObject: 'Завершён', statusCheck: 'Проверено', percent: 100, fio: 'Андреев Ю.А.', dates: '15.04.2024-20.08.2024', district: 'СВАО', violations: 2, checks: 1, documents: '0%', photos: 3, geometry: { "type": "Polygon", "coordinates": [ [ [ 37.571583463627398, 55.877156288728997 ], [ 37.571590626064598, 55.877088725100599 ], [ 37.571588756814698, 55.877088753121299 ], [ 37.571608381802001, 55.877047821708203 ], [ 37.571501688442602, 55.877048080683203 ], [ 37.571250851985397, 55.877048682684702 ], [ 37.571241709456103, 55.877046622156101 ], [ 37.571091771698804, 55.877040869909202 ], [ 37.571077454280399, 55.877057377268699 ], [ 37.5710564022299, 55.877051596172002 ], [ 37.570931453691202, 55.876984592983597 ], [ 37.5709243370965, 55.8769807798664 ], [ 37.570918068087401, 55.876977415345102 ], [ 37.5708754560142, 55.876976460638602 ], [ 37.570649517793001, 55.876971397807203 ], [ 37.570611011722903, 55.8769704047508 ], [ 37.570495781156303, 55.876967452291098 ], [ 37.570482136270002, 55.876967100759302 ], [ 37.570445196021502, 55.876966151671802 ], [ 37.5703851361598, 55.876964604908302 ], [ 37.5703302873791, 55.876964519168503 ], [ 37.5701655173782, 55.876964270910101 ], [ 37.570164718534997, 55.876964271360599 ], [ 37.570165106788501, 55.876966965618102 ], [ 37.570165220053099, 55.876967764915598 ], [ 37.570186028298501, 55.877114512328497 ], [ 37.570204239309099, 55.877184576402598 ], [ 37.57023100904, 55.877287607050803 ], [ 37.5702320701483, 55.877291315847501 ], [ 37.570238372236297, 55.877313200418897 ], [ 37.570279593099897, 55.877456280775199 ], [ 37.570280943554799, 55.877460968401003 ], [ 37.5703216340249, 55.8776110456959 ], [ 37.570328066699503, 55.877634421131297 ], [ 37.570352269694503, 55.8777223641303 ], [ 37.570388341789503, 55.877862681023601 ], [ 37.570403431215297, 55.877920064825403 ], [ 37.5704356450766, 55.878029127962101 ], [ 37.570449999963998, 55.878077755125503 ], [ 37.570450932282199, 55.878080898152902 ], [ 37.570466512829398, 55.878144766372301 ], [ 37.570467237074602, 55.8781477029409 ], [ 37.570471566844901, 55.878165475048 ], [ 37.570504096015902, 55.878298680488001 ], [ 37.5705370139883, 55.878354599146903 ], [ 37.570552337604902, 55.878355291020902 ], [ 37.570610164650503, 55.878357880834599 ], [ 37.570605526244002, 55.878372918642697 ], [ 37.570652172628598, 55.878377472767603 ], [ 37.570656811001498, 55.878362425976199 ], [ 37.570798781061796, 55.878368192269797 ], [ 37.570823260004097, 55.878369013622901 ], [ 37.570963109966797, 55.878324367290098 ], [ 37.570960005807301, 55.8783218542168 ], [ 37.570958959573602, 55.878317588560101 ], [ 37.5709617135009, 55.8783119555344 ], [ 37.571036017214396, 55.8782283304812 ], [ 37.571079723357798, 55.878188553012301 ], [ 37.571085499562699, 55.878184346329 ], [ 37.571099669080198, 55.878183008955901 ], [ 37.571204193804903, 55.878183398246001 ], [ 37.571235017094899, 55.8781761953285 ], [ 37.571235390436797, 55.8781617976314 ], [ 37.571237601962302, 55.8780773065792 ], [ 37.571238439296998, 55.878045637024897 ], [ 37.571144792773197, 55.878043741617603 ], [ 37.5711386922858, 55.877895234567802 ], [ 37.571203304265403, 55.877895197598903 ], [ 37.571204368252999, 55.877803414151799 ], [ 37.571236643435299, 55.8777864384355 ], [ 37.571244151482396, 55.877785751534702 ], [ 37.571239713923703, 55.8777703865807 ], [ 37.571405182343803, 55.877546353783998 ], [ 37.571539908669301, 55.877365997940203 ], [ 37.571552024053602, 55.8773510725539 ], [ 37.571595266375802, 55.8773030859914 ], [ 37.571593604427001, 55.877259041240897 ], [ 37.571593357246996, 55.877254909852702 ], [ 37.571588444255099, 55.877171536599 ], [ 37.5715885990845, 55.877168824070303 ], [ 37.571588322421803, 55.877166048918802 ], [ 37.571587566368997, 55.877163229135299 ], [ 37.571586315031098, 55.8771604096369 ], [ 37.571584584466898, 55.877157635322099 ], [ 37.571583463627398, 55.877156288728997 ] ] ] } },
  { title: 'Дворовая территория по адресу: Флотская ул. 54, 58 к.1', statusObject: 'Завершён', statusCheck: 'Ожидают проверки', percent: 100, fio: 'Семенов И.П.', dates: '15.04.2024-15.08.2024', district: 'САО', violations: 1, checks: 1, documents: '0%', photos: 3, geometry: { "type": "Polygon", "coordinates": [ [ [ 37.505101782564701, 55.8553877117224 ], [ 37.505168164304102, 55.855411160347799 ], [ 37.505183909466297, 55.855417132554201 ], [ 37.505210433530102, 55.855427208965502 ], [ 37.505234865700601, 55.855436477102202 ], [ 37.505320665691002, 55.855467873663798 ], [ 37.505334941748899, 55.855473091449802 ], [ 37.505583607671298, 55.855564074652499 ], [ 37.505590601044297, 55.855558856056597 ], [ 37.505591798714001, 55.855559358979797 ], [ 37.505598568555399, 55.855554329006203 ], [ 37.505630342075897, 55.855530688127203 ], [ 37.505637095941502, 55.855525676115299 ], [ 37.505660087806397, 55.855508574196101 ], [ 37.505800736872303, 55.855403690129101 ], [ 37.505805814153199, 55.855399459577797 ], [ 37.505826474531602, 55.855382303833601 ], [ 37.5058565869194, 55.855357288776801 ], [ 37.505894107604298, 55.855326129975097 ], [ 37.505899025205302, 55.855322052114097 ], [ 37.506030315167997, 55.8552130096855 ], [ 37.506149825944298, 55.855146055496498 ], [ 37.506151167079601, 55.855144833937402 ], [ 37.506213593672001, 55.855088202068004 ], [ 37.506328818954799, 55.854983677786002 ], [ 37.506344875898598, 55.8549371163449 ], [ 37.5063579817703, 55.854911383409302 ], [ 37.506359386543998, 55.854908652933098 ], [ 37.506387545751501, 55.854853387742999 ], [ 37.506413501896198, 55.8548020296519 ], [ 37.506418385927098, 55.854787595965199 ], [ 37.506468352465298, 55.854702169469697 ], [ 37.506518905377497, 55.8546957632065 ], [ 37.506580507928, 55.8546892396364 ], [ 37.506637687554203, 55.854683758115698 ], [ 37.5066423660015, 55.8546831112143 ], [ 37.506638356267899, 55.854671040111498 ], [ 37.506479608445403, 55.854693528626797 ], [ 37.506432537843303, 55.854709122908297 ], [ 37.506417945991501, 55.854727356269898 ], [ 37.506410042937098, 55.854734083867399 ], [ 37.5063297798037, 55.8547810703949 ], [ 37.506324398860698, 55.854782435845799 ], [ 37.506282612307601, 55.854790206839503 ], [ 37.506237248631102, 55.854795687666602 ], [ 37.506047378217403, 55.854813542498597 ], [ 37.506043273531198, 55.854806474142201 ], [ 37.505934293792102, 55.8548093080122 ], [ 37.505933910565197, 55.8548093080284 ], [ 37.505910916985101, 55.8548095245581 ], [ 37.505887889933099, 55.854798154797102 ], [ 37.505860247907997, 55.854784512874801 ], [ 37.505842059433597, 55.854775532013697 ], [ 37.505765079558898, 55.854781292407203 ], [ 37.505753850714797, 55.854754186341701 ], [ 37.505833816219798, 55.8547462253348 ], [ 37.505829263551199, 55.854732052529499 ], [ 37.505747988771702, 55.854740426741301 ], [ 37.505711217732703, 55.854636816283403 ], [ 37.505701281938499, 55.854606476777299 ], [ 37.505696106569197, 55.854592106396403 ], [ 37.505625328921198, 55.854395070477899 ], [ 37.505546725593099, 55.854179415922097 ], [ 37.505489030816001, 55.8540153060165 ], [ 37.505148257441697, 55.854051622439798 ], [ 37.504951891599497, 55.854071388902199 ], [ 37.50493031976, 55.854073500321697 ], [ 37.504881156392898, 55.854078289194597 ], [ 37.504806109984003, 55.854085611725502 ], [ 37.504763397404503, 55.854089942274697 ], [ 37.504471546480801, 55.854119483068203 ], [ 37.504184549140199, 55.854147918293897 ], [ 37.503996373834198, 55.854169739791999 ], [ 37.504290488557103, 55.854267388771802 ], [ 37.504250795625502, 55.854294200048599 ], [ 37.504262325093201, 55.854303890884999 ], [ 37.504260345182097, 55.854304645397903 ], [ 37.504258349302603, 55.854305390929603 ], [ 37.504307772761699, 55.854346776802302 ], [ 37.5043795497049, 55.854374554840298 ], [ 37.504568277212798, 55.854439162860402 ], [ 37.504465310682299, 55.854530068997398 ], [ 37.504153580079603, 55.854419217951403 ], [ 37.504152446466001, 55.854420214942699 ], [ 37.504151073357797, 55.854421436481097 ], [ 37.503873930654301, 55.854315011695597 ], [ 37.503823619894497, 55.854353840511898 ], [ 37.5036672768572, 55.854297017643297 ], [ 37.5035196528681, 55.854244505555101 ], [ 37.503471254002797, 55.854227288880097 ], [ 37.503316560994598, 55.854235878661797 ], [ 37.503278670304397, 55.854240504987501 ], [ 37.503019805652102, 55.854262254585201 ], [ 37.502940878724999, 55.8542749201142 ], [ 37.502913763671501, 55.8542370451108 ], [ 37.502911975165802, 55.8542345482524 ], [ 37.502837421527303, 55.854213245153097 ], [ 37.502808743388002, 55.8542050544049 ], [ 37.5027640655535, 55.854192292271897 ], [ 37.502751150607999, 55.854245876826099 ], [ 37.5027440306133, 55.8542754713786 ], [ 37.502736639215101, 55.854306152710897 ], [ 37.502736543435603, 55.854306655683096 ], [ 37.502736463617701, 55.854307041894003 ], [ 37.502734196764997, 55.854317577370402 ], [ 37.502727619483601, 55.854344082235698 ], [ 37.502719764779997, 55.854370488323497 ], [ 37.502710664584797, 55.854396759706503 ], [ 37.502709020131803, 55.854400909241001 ], [ 37.502700302927202, 55.854422878421403 ], [ 37.502688711739602, 55.854448835485798 ], [ 37.502684863927399, 55.854456550757803 ], [ 37.5026775834177, 55.854471190912399 ], [ 37.502676098574703, 55.854474145888602 ], [ 37.5026757792442, 55.854474594974597 ], [ 37.5026709413739, 55.854481133669701 ], [ 37.502663452842199, 55.854487079619602 ], [ 37.502655612944103, 55.854491498699304 ], [ 37.502650104218603, 55.854493825024903 ], [ 37.502684211827301, 55.854507710069697 ], [ 37.502710335461202, 55.854518334906402 ], [ 37.502737944134097, 55.854529570463399 ], [ 37.502818342963103, 55.854559603656099 ], [ 37.5030274922754, 55.854637731024098 ], [ 37.503203955674699, 55.854703652678403 ], [ 37.503232506568096, 55.854712552884301 ], [ 37.503292259352101, 55.854735077552199 ], [ 37.503366463399701, 55.854763044742597 ], [ 37.503649611484803, 55.854865258141501 ], [ 37.5037187697584, 55.854887396168401 ], [ 37.503744236655798, 55.854864573254098 ], [ 37.503828229713299, 55.854894623660599 ], [ 37.503802762845403, 55.854917446592097 ], [ 37.504152198727503, 55.855052610713997 ], [ 37.504167862329901, 55.855042523919799 ], [ 37.504195248139801, 55.855052582563097 ], [ 37.504196525612898, 55.855053058552897 ], [ 37.504357247983599, 55.855113302609602 ], [ 37.504409592614998, 55.855132611532703 ], [ 37.504447294229202, 55.8551468732079 ], [ 37.504659308437198, 55.855227072462498 ], [ 37.504711828988597, 55.855246084857797 ], [ 37.504763327602902, 55.855264729017698 ], [ 37.504900098581402, 55.855314249095301 ], [ 37.505101782564701, 55.8553877117224 ] ] ] } },
  { title: 'Дворовая территория по адресу: Каргопольская ул. 18', statusObject: 'Завершён', statusCheck: 'Проверено', percent: 100, fio: 'Петров Д.С.', dates: '15.04.2024-28.08.2024', district: 'СВАО', violations: 3, checks: 2, documents: '0%', photos: 3, geometry: { "type": "Polygon", "coordinates": [ [ [ 37.595405522133802, 55.8650268362208 ], [ 37.595150205095798, 55.864768029698403 ], [ 37.594959840919003, 55.864572008264702 ], [ 37.594938037484702, 55.8645514121622 ], [ 37.594759473522402, 55.864611177595698 ], [ 37.594563591443702, 55.864675868912101 ], [ 37.594547288435102, 55.864657747471597 ], [ 37.594545001220297, 55.864656401973598 ], [ 37.594437181701402, 55.8645926787554 ], [ 37.594424588776697, 55.8645764406117 ], [ 37.594310366623198, 55.864613046722198 ], [ 37.594321078460098, 55.864624148827701 ], [ 37.594263252683398, 55.864640844683301 ], [ 37.5942461906373, 55.864645770586797 ], [ 37.594224975475001, 55.864623916486302 ], [ 37.594216361318999, 55.864615040218197 ], [ 37.594136664112497, 55.8646425574983 ], [ 37.5941238640631, 55.8646464562472 ], [ 37.594113346319197, 55.864649661679501 ], [ 37.594112628127, 55.864649886764603 ], [ 37.594111891657398, 55.864649150831397 ], [ 37.594111731594602, 55.864649007247102 ], [ 37.594092883075398, 55.864654931443098 ], [ 37.594062719048203, 55.864664411951999 ], [ 37.594004306103798, 55.864682760746803 ], [ 37.594004018826404, 55.864682850780603 ], [ 37.593990995596897, 55.864686938298497 ], [ 37.593936811956297, 55.864703963560402 ], [ 37.593817527959303, 55.864741435279797 ], [ 37.593801950166203, 55.864725890914002 ], [ 37.593731858237099, 55.864655941236997 ], [ 37.593714063109097, 55.864661577167702 ], [ 37.593642386453404, 55.8645900388915 ], [ 37.593639376620899, 55.864587050287803 ], [ 37.593621557533403, 55.864569253206803 ], [ 37.593639352611198, 55.864563608307897 ], [ 37.593515340049002, 55.864439827505201 ], [ 37.593512218114697, 55.864436704258701 ], [ 37.593505528452702, 55.864431050887497 ], [ 37.5934872735209, 55.864397859637897 ], [ 37.593410701152898, 55.864409629334197 ], [ 37.593334144710198, 55.864421398970798 ], [ 37.593344493883997, 55.864421184607501 ], [ 37.593352673192499, 55.864421932908101 ], [ 37.593362356470799, 55.864423784814399 ], [ 37.5933766418676, 55.864426585306497 ], [ 37.593389493639798, 55.864430994584197 ], [ 37.593393972474999, 55.864433829400902 ], [ 37.593452772297802, 55.8644907644467 ], [ 37.593479298689601, 55.8645164408439 ], [ 37.593554158369301, 55.8645901054566 ], [ 37.593667649158697, 55.864701795935702 ], [ 37.593862081831602, 55.864891780642502 ], [ 37.593878208176299, 55.864909587950301 ], [ 37.594010322526998, 55.8650405924339 ], [ 37.594063746878703, 55.865093067397403 ], [ 37.594210060150502, 55.865236751907602 ], [ 37.594226871071299, 55.865253507801 ], [ 37.594341777750998, 55.865367891054703 ], [ 37.594336032052297, 55.865369664800802 ], [ 37.594196619006802, 55.8654127477296 ], [ 37.594236485365499, 55.865452595788 ], [ 37.594380515681301, 55.865410021253197 ], [ 37.594547695506002, 55.8655754519122 ], [ 37.594549088419399, 55.8655768340181 ], [ 37.5945761300054, 55.865603596556703 ], [ 37.5948327409846, 55.865855182034103 ], [ 37.594964971381401, 55.865978685745297 ], [ 37.594989876260598, 55.865967125312402 ], [ 37.595024242101097, 55.865951174603303 ], [ 37.595043586139298, 55.865945204978502 ], [ 37.595146020017403, 55.865913574067797 ], [ 37.5951436823511, 55.865911222679898 ], [ 37.595114157789297, 55.865881713799197 ], [ 37.595080873839997, 55.865849755814402 ], [ 37.5950681942453, 55.8658375774923 ], [ 37.5951462401394, 55.865813366113201 ], [ 37.595233657426, 55.865787405058299 ], [ 37.595197151810403, 55.865750824050203 ], [ 37.595141817099602, 55.865695369154999 ], [ 37.595157936956397, 55.865690371998298 ], [ 37.595150908024301, 55.8656833178471 ], [ 37.595143287076802, 55.865675833032398 ], [ 37.5951459113192, 55.8656646399373 ], [ 37.595180798702202, 55.865600466535398 ], [ 37.5951807565298, 55.8655830871581 ], [ 37.5951812368722, 55.8655835717963 ], [ 37.5953734262309, 55.865522699530501 ], [ 37.595464908593399, 55.8654938520882 ], [ 37.595404957183497, 55.865431529932401 ], [ 37.595390422723099, 55.865411907316798 ], [ 37.595374936240802, 55.865394872134402 ], [ 37.595559019717101, 55.865337769102197 ], [ 37.595567606218999, 55.865335103931201 ], [ 37.595602000109203, 55.865324434222501 ], [ 37.595556669623498, 55.8652778635904 ], [ 37.595584435896399, 55.865267540293097 ], [ 37.5956039999433, 55.865260268076597 ], [ 37.595625702310201, 55.865252203827197 ], [ 37.595592142293, 55.865218333107698 ], [ 37.595555171914199, 55.865181025050397 ], [ 37.595552834245296, 55.865178664688401 ], [ 37.595539624823402, 55.865165328194301 ], [ 37.595416250696701, 55.865038072941701 ], [ 37.595405522133802, 55.8650268362208 ] ] ] } },
  { title: 'Дворовая территория по адресу: Бестужевых ул. 27А', statusObject: 'Завершён', statusCheck: 'Проблемные', percent: 80, fio: 'Иванова Н.А.', dates: '15.04.2024-23.08.2024', district: 'СВАО', violations: 5, checks: 2, documents: '0%', photos: 3, geometry: { "type": "Polygon", "coordinates": [ [ [ 37.615504488079402, 55.870588220852397 ], [ 37.615511981263602, 55.870572397265001 ], [ 37.614972485175002, 55.870491687468999 ], [ 37.614732081251503, 55.870456325228602 ], [ 37.614585517824302, 55.870434482889998 ], [ 37.614214916226203, 55.870379696022702 ], [ 37.614008024128999, 55.870348666528699 ], [ 37.614070588651003, 55.870214863903399 ], [ 37.614073734540597, 55.870209031947098 ], [ 37.614307601848303, 55.869773307467 ], [ 37.614331003738201, 55.869729554448398 ], [ 37.614420427530703, 55.869560662662302 ], [ 37.614426670836103, 55.8695488820143 ], [ 37.614739900146901, 55.869591901606597 ], [ 37.615029846011403, 55.869631448179199 ], [ 37.615203761963699, 55.869656012928402 ], [ 37.615337854630702, 55.869674956104099 ], [ 37.6153408753527, 55.869670094244398 ], [ 37.615335214975403, 55.869662761544397 ], [ 37.615337638556397, 55.869661250378698 ], [ 37.6153136349498, 55.869646722526603 ], [ 37.615086506287298, 55.869501297032599 ], [ 37.615005686240302, 55.869449449435599 ], [ 37.614990322452797, 55.869439592914702 ], [ 37.614891898385899, 55.869376453742198 ], [ 37.6148845094257, 55.869378804792902 ], [ 37.614878729148501, 55.869379564607698 ], [ 37.614867851697198, 55.869379799233698 ], [ 37.614862419443902, 55.869379400098197 ], [ 37.614857975770803, 55.869378389296799 ], [ 37.614855946185401, 55.8693780768224 ], [ 37.614853964363199, 55.8693777104139 ], [ 37.614852014304098, 55.869377281104804 ], [ 37.614850111981802, 55.869376788880203 ], [ 37.6148482574228, 55.8693762427216 ], [ 37.614846450626999, 55.869375642629102 ], [ 37.614844707568203, 55.8693749885879 ], [ 37.614843028272603, 55.869374289579497 ], [ 37.614841428687797, 55.869373536607597 ], [ 37.614839892839903, 55.869372729686901 ], [ 37.614838436755399, 55.869371886765897 ], [ 37.614837060407901, 55.869370998862998 ], [ 37.614827127733101, 55.869361128305599 ], [ 37.614826881202198, 55.8693587663724 ], [ 37.614826909673901, 55.869357580774299 ], [ 37.614827034014198, 55.869356404069002 ], [ 37.614827270170601, 55.869355227260002 ], [ 37.614827618169301, 55.869354059328998 ], [ 37.6148280620367, 55.869352900290799 ], [ 37.614828601798997, 55.869351759126801 ], [ 37.614829253403599, 55.869350626840799 ], [ 37.614829984955797, 55.869349521425498 ], [ 37.614830828376597, 55.869348433869703 ], [ 37.614831767718698, 55.869347373169802 ], [ 37.614832787008197, 55.869346339340602 ], [ 37.614833902219097, 55.869345332367303 ], [ 37.614835097403798, 55.869344361246299 ], [ 37.614836388535998, 55.869343425962697 ], [ 37.6148377596421, 55.869342526531398 ], [ 37.614854284074099, 55.8693342122112 ], [ 37.614609396031199, 55.869177808811401 ], [ 37.614595088813999, 55.869168669791698 ], [ 37.614462003202298, 55.869083656197603 ], [ 37.614429914612302, 55.869062632960301 ], [ 37.614457028334598, 55.8690156431066 ], [ 37.614464080887899, 55.869012978035997 ], [ 37.614369765458001, 55.868999583751702 ], [ 37.6140405548487, 55.868952141015001 ], [ 37.614039995539002, 55.868952060695399 ], [ 37.614031877678599, 55.868950936485298 ], [ 37.613781418656899, 55.868914845147501 ], [ 37.6137897462458, 55.868916687709799 ], [ 37.6137979635863, 55.868919069269097 ], [ 37.613805942838198, 55.868921971979603 ], [ 37.613813508318898, 55.868925404984303 ], [ 37.6138205002148, 55.868929341485298 ], [ 37.613826758633998, 55.868933727740099 ], [ 37.613832187526299, 55.868938491983997 ], [ 37.613832684350797, 55.8689390573686 ], [ 37.6138366588944, 55.868943562482002 ], [ 37.613837894339397, 55.868945447483704 ], [ 37.6138401085827, 55.8689488494771 ], [ 37.613841169833002, 55.868951255571901 ], [ 37.613842488357001, 55.868954245234498 ], [ 37.613843829902898, 55.868959659909102 ], [ 37.613844148906303, 55.868964994688803 ], [ 37.613843509052401, 55.868970177662298 ], [ 37.613842037946497, 55.868975145841098 ], [ 37.613799870125199, 55.869063976717399 ], [ 37.6137878834516, 55.869089252978597 ], [ 37.613629336297102, 55.869433178349702 ], [ 37.613546823748997, 55.869606787552698 ], [ 37.613542409972503, 55.869616087556899 ], [ 37.613533169514497, 55.869635523232098 ], [ 37.613467050846801, 55.869777933226899 ], [ 37.613461605805099, 55.869789677168299 ], [ 37.613448175650603, 55.869818610227398 ], [ 37.613399486733499, 55.869917820675298 ], [ 37.613395597141, 55.869926123236098 ], [ 37.613319076133202, 55.870089847025 ], [ 37.613268392568799, 55.870195543957401 ], [ 37.6132199786624, 55.870301795652303 ], [ 37.613194419610302, 55.8703569301152 ], [ 37.613188371151601, 55.870369976926902 ], [ 37.613161176843199, 55.870428633663998 ], [ 37.613187082543597, 55.870431364380103 ], [ 37.613153523889203, 55.870505595017399 ], [ 37.613275641761, 55.8705314312799 ], [ 37.613261264808898, 55.870570056328702 ], [ 37.613661791457197, 55.870626480212799 ], [ 37.613795359178603, 55.870645290824399 ], [ 37.613820357190399, 55.8705952133962 ], [ 37.613926558356198, 55.870382476363297 ], [ 37.614947192714801, 55.870533439460999 ], [ 37.615310480557, 55.870588212968201 ], [ 37.615316328421599, 55.870577797848497 ], [ 37.615410066483399, 55.870594425320803 ], [ 37.615437285233298, 55.870599366787097 ], [ 37.615456463285199, 55.870602393678503 ], [ 37.6154796860517, 55.8706065125522 ], [ 37.615482722771503, 55.870607057599202 ], [ 37.615493815484299, 55.870609283677297 ], [ 37.615504488079402, 55.870588220852397 ] ] ] } },
  { title: 'Дворовая территория по адресу: Челобитьевское шоссе 14 к.3,14 к.4,14 к.5', statusObject: 'Завершён', statusCheck: 'Ожидают проверки', percent: 60, fio: 'Кузнецов А.В.', dates: '15.04.2024-20.08.2024', district: 'СВАО', violations: 2, checks: 2, documents: '0%', photos: 2, geometry: { "type": "Polygon", "coordinates": [ [ [ 37.554815657899397, 55.911841734963097 ], [ 37.554700426065402, 55.911865380004699 ], [ 37.554702011528697, 55.911867058857098 ], [ 37.554586471888904, 55.911899478887399 ], [ 37.5544975866935, 55.911918334038702 ], [ 37.554466771977502, 55.911918634895699 ], [ 37.554348793682898, 55.911945523140602 ], [ 37.554324814343303, 55.911950994350903 ], [ 37.5541981553163, 55.911979862166099 ], [ 37.554163225339401, 55.911987825983502 ], [ 37.554102398869098, 55.912002626982598 ], [ 37.554059520669703, 55.912080120281999 ], [ 37.5540651397936, 55.912096266650003 ], [ 37.554118172541202, 55.912088654276502 ], [ 37.554120938482001, 55.912088248908503 ], [ 37.554123804702797, 55.912090996015898 ], [ 37.554190064291397, 55.912154601453899 ], [ 37.554198406801497, 55.912162609362298 ], [ 37.554254130397801, 55.9122161151111 ], [ 37.554278053177399, 55.912239097443603 ], [ 37.554298261069498, 55.912258515717497 ], [ 37.554309181679599, 55.912269019363897 ], [ 37.5543634645447, 55.912321214384903 ], [ 37.554350661219601, 55.912325414336401 ], [ 37.554343897830897, 55.912337713002302 ], [ 37.554354242016302, 55.912347660040297 ], [ 37.554465629114198, 55.912456665295203 ], [ 37.554470336975903, 55.912461270768702 ], [ 37.554475141644801, 55.912466495925699 ], [ 37.554479562755901, 55.912471891899003 ], [ 37.554483568301301, 55.9124774407397 ], [ 37.554487126273102, 55.9124831244985 ], [ 37.554490236671199, 55.912488943175703 ], [ 37.554486586743401, 55.912520820236402 ], [ 37.5544806771872, 55.912572331918398 ], [ 37.554422253192698, 55.912590419267097 ], [ 37.554457370920296, 55.912625360087198 ], [ 37.554458700030501, 55.912626670811498 ], [ 37.5543234887568, 55.9126709997036 ], [ 37.554311916091599, 55.912674785964597 ], [ 37.554298089643503, 55.912679318672197 ], [ 37.554352222003097, 55.912726340396297 ], [ 37.554438695706096, 55.912812552396502 ], [ 37.554574453790501, 55.912954823500499 ], [ 37.5545888860971, 55.9129719988657 ], [ 37.5546014529723, 55.912970134192399 ], [ 37.554603700299602, 55.912976258615799 ], [ 37.5546090939281, 55.912990985972897 ], [ 37.5546176498314, 55.9130142982929 ], [ 37.554637332608401, 55.913012134111803 ], [ 37.5547252286391, 55.913004703808902 ], [ 37.554769360527501, 55.913000975080898 ], [ 37.555012052996801, 55.912945569057101 ], [ 37.555202277070698, 55.912902203062899 ], [ 37.555404783380197, 55.912836880452701 ], [ 37.5554238207325, 55.912830719649499 ], [ 37.555616991093601, 55.912768149184302 ], [ 37.555625862375898, 55.912765280121199 ], [ 37.555639816644998, 55.912760756189201 ], [ 37.555708822786301, 55.912739861301603 ], [ 37.555851273936902, 55.9126934439333 ], [ 37.555872069428602, 55.912686725418602 ], [ 37.556071040922198, 55.912622499039898 ], [ 37.556084036070096, 55.912618307805197 ], [ 37.556239993541197, 55.912567958984702 ], [ 37.556246083506501, 55.9125659982654 ], [ 37.556260788911402, 55.912561249385902 ], [ 37.556276692314, 55.912555547921698 ], [ 37.5563438576213, 55.912533881095499 ], [ 37.556351913616197, 55.912531281794202 ], [ 37.556352153385703, 55.912531209833702 ], [ 37.556422019919999, 55.912508670535999 ], [ 37.556503125888497, 55.912484392673498 ], [ 37.556494834779897, 55.912456868022304 ], [ 37.556482092851702, 55.912414570759601 ], [ 37.556471455916999, 55.912379305084897 ], [ 37.556462024026096, 55.912347990739299 ], [ 37.556461799089902, 55.912347254355197 ], [ 37.556436002368102, 55.912289703364699 ], [ 37.556398980402001, 55.912165622226702 ], [ 37.556369703518897, 55.9120562403509 ], [ 37.556362548498399, 55.912040247467601 ], [ 37.556349742429099, 55.912019972943199 ], [ 37.556355324512197, 55.912009587767002 ], [ 37.556269090960399, 55.911869362034601 ], [ 37.556252963240098, 55.911852178645802 ], [ 37.556238839605399, 55.911838613910803 ], [ 37.556229776845299, 55.911830399889197 ], [ 37.556222808145499, 55.911832828043899 ], [ 37.556212944804301, 55.911823895858902 ], [ 37.556219913503099, 55.911821467704797 ], [ 37.556217879978902, 55.911819618424502 ], [ 37.556192071171097, 55.911797912694396 ], [ 37.556167743935099, 55.911783463373197 ], [ 37.556164046166501, 55.911780797521203 ], [ 37.556138068517697, 55.911764004756002 ], [ 37.556111626699497, 55.911746897840104 ], [ 37.556111482676599, 55.9117468260526 ], [ 37.556103225154999, 55.911742563535498 ], [ 37.556095736081303, 55.911738911416897 ], [ 37.556079815444903, 55.911732299180201 ], [ 37.556055657833298, 55.911724612857199 ], [ 37.556030044166903, 55.911716316438799 ], [ 37.556010558878903, 55.911710657836402 ], [ 37.555962759981298, 55.911698482353998 ], [ 37.5559501229679, 55.911695667817803 ], [ 37.555937406153703, 55.911692961094502 ], [ 37.555924625504304, 55.911690344213802 ], [ 37.555911781019603, 55.911687817175803 ], [ 37.555898888703403, 55.911685388954801 ], [ 37.555885916573402, 55.9116830595651 ], [ 37.555872912602901, 55.911680828985098 ], [ 37.555859844809497, 55.911678697229299 ], [ 37.555794826017603, 55.9116682718061 ], [ 37.555777121351397, 55.911666528320403 ], [ 37.555750412649097, 55.911664061350301 ], [ 37.555732916341903, 55.911662650082 ], [ 37.5557249040478, 55.911662132730697 ], [ 37.555713757517601, 55.911661634741101 ], [ 37.555693783718397, 55.911661023930002 ], [ 37.555684716582199, 55.911660911215897 ], [ 37.555673155172499, 55.911661042115199 ], [ 37.555667398695597, 55.911661278202899 ], [ 37.555658588420599, 55.911661874913698 ], [ 37.555652432723797, 55.911662506366298 ], [ 37.555647924062697, 55.911663101157998 ], [ 37.555637867747798, 55.9116645965765 ], [ 37.555611696188997, 55.911668802618401 ], [ 37.555535212657098, 55.9116816353635 ], [ 37.555495788407498, 55.911688676460798 ], [ 37.5554034468122, 55.911705234530203 ], [ 37.555353794175197, 55.911716546351599 ], [ 37.555273719677899, 55.911734526946901 ], [ 37.555181368533503, 55.911755827104997 ], [ 37.555074278056701, 55.911780447884702 ], [ 37.554981336487003, 55.911802798992802 ], [ 37.554815657899397, 55.911841734963097 ] ] ] } },
  { title: 'Дворовая территория по адресу: Мира просп. 194', statusObject: 'Завершён', statusCheck: 'Проверено', percent: 100, fio: 'Фёдоров М.Г.', dates: '15.04.2024-20.08.2024', district: 'СВАО', violations: 0, checks: 1, documents: '0%', photos: 3, geometry: { "type": "Polygon", "coordinates": [ [ [ 37.659716442170797, 55.836805799266003 ], [ 37.6596903157171, 55.836817724735802 ], [ 37.659648945617697, 55.836833217643502 ], [ 37.659558811645198, 55.8368710569844 ], [ 37.659504640327597, 55.836894182812202 ], [ 37.659489939733596, 55.8369096053232 ], [ 37.659445119587403, 55.836928425826699 ], [ 37.659438602854998, 55.836923314687603 ], [ 37.659436745486701, 55.8369218530731 ], [ 37.659416828976397, 55.8369302227199 ], [ 37.659410694684702, 55.836932799384897 ], [ 37.659364282436798, 55.836948684910098 ], [ 37.659285507488903, 55.836981542548102 ], [ 37.659217055076702, 55.837009545727 ], [ 37.659192326313502, 55.837019861573502 ], [ 37.659184789775701, 55.837023005877398 ], [ 37.659157607250897, 55.8370343487857 ], [ 37.659151313503898, 55.837036970551303 ], [ 37.659118458643199, 55.8370506829297 ], [ 37.659125406944199, 55.837055955199901 ], [ 37.6591492137442, 55.837074031572499 ], [ 37.659153744538699, 55.837077465713797 ], [ 37.659243816697, 55.837145843829298 ], [ 37.659275036227903, 55.837169542126702 ], [ 37.6592782540447, 55.837171936082903 ], [ 37.659332444755897, 55.837212265738401 ], [ 37.659403401405598, 55.837266118089403 ], [ 37.659465608663297, 55.837311359295903 ], [ 37.6594674497249, 55.837312731114302 ], [ 37.659528462065197, 55.837358458839802 ], [ 37.659623334771403, 55.8374295429401 ], [ 37.659635133848703, 55.8374383836167 ], [ 37.659639296425702, 55.8374415218208 ], [ 37.659647877537502, 55.837447941604601 ], [ 37.659662132533199, 55.837452369113301 ], [ 37.659700902219498, 55.837464390377399 ], [ 37.659735459254399, 55.837449265524697 ], [ 37.659792683638301, 55.8374153756263 ], [ 37.659793409551099, 55.837409437812802 ], [ 37.659794501519102, 55.837407155060298 ], [ 37.659800041541601, 55.837403654033999 ], [ 37.659803080664197, 55.837401359782604 ], [ 37.659807589957097, 55.837399503731703 ], [ 37.6598321598889, 55.837389358619099 ], [ 37.659905359859799, 55.837359166415901 ], [ 37.6599731421936, 55.837331199649697 ], [ 37.659981818754602, 55.837329724410402 ], [ 37.659991577630798, 55.837331418294497 ], [ 37.659939871586403, 55.837290025879 ], [ 37.660019174984001, 55.837241961194202 ], [ 37.660016184627899, 55.837236656905901 ], [ 37.660014453611602, 55.837230973757798 ], [ 37.660014006853501, 55.837227103241901 ], [ 37.6600140227563, 55.8372192801979 ], [ 37.660032058491304, 55.837203727564102 ], [ 37.660056786215598, 55.837189279988102 ], [ 37.660116263951402, 55.837160165261103 ], [ 37.6601251068859, 55.837156453363498 ], [ 37.660129601203401, 55.837154848806399 ], [ 37.660187171789403, 55.8371199433466 ], [ 37.660244761378898, 55.837105300453899 ], [ 37.660246711279697, 55.837102064529397 ], [ 37.6602429895499, 55.837101350821598 ], [ 37.6602015703427, 55.837081465229801 ], [ 37.6601622484758, 55.837059259638799 ], [ 37.660088554777801, 55.837007566865701 ], [ 37.6600306275854, 55.8369669370026 ], [ 37.659803264893199, 55.836809216843903 ], [ 37.659791724743798, 55.836801211142102 ], [ 37.659765827448801, 55.836783245374903 ], [ 37.659716442170797, 55.836805799266003 ] ], [ [ 37.659775003857398, 55.837189716384898 ], [ 37.659703879556602, 55.837220049536299 ], [ 37.659691391919701, 55.837210643911199 ], [ 37.6596888426348, 55.837211725003399 ], [ 37.659601114057402, 55.8372486271724 ], [ 37.659594963803897, 55.837251212848699 ], [ 37.659555624550798, 55.837267771918803 ], [ 37.659447702149798, 55.837186294857702 ], [ 37.659432684962198, 55.837174961412899 ], [ 37.659428335062799, 55.837176763354698 ], [ 37.659419513213003, 55.837169993581199 ], [ 37.659425185638199, 55.837167651034598 ], [ 37.659449277550401, 55.837157713192703 ], [ 37.659462470736003, 55.837152271252897 ], [ 37.6594578113437, 55.837148621729099 ], [ 37.659473697346101, 55.837142071570703 ], [ 37.6594783567391, 55.837145721093897 ], [ 37.659502910672899, 55.837135585048898 ], [ 37.659566533747501, 55.837183617673702 ], [ 37.659696963611403, 55.837128840761302 ], [ 37.659750547169303, 55.837106344325399 ], [ 37.659692495414703, 55.837062516994898 ], [ 37.659700955976199, 55.837058967291497 ], [ 37.659726496962797, 55.837048246118698 ], [ 37.659715754377203, 55.837040140581202 ], [ 37.659702706384401, 55.837030295579801 ], [ 37.659707295111602, 55.8370283585949 ], [ 37.659763474979499, 55.837004610348004 ], [ 37.659763968909601, 55.837004403131502 ], [ 37.659787919654697, 55.837022488176402 ], [ 37.659792466423198, 55.837025913292003 ], [ 37.659778397408701, 55.8370318234455 ], [ 37.659868004731997, 55.837099474191803 ], [ 37.6598993681759, 55.837123154181803 ], [ 37.659855073907998, 55.837141785538897 ], [ 37.659827302351303, 55.8371534706597 ], [ 37.659771201487203, 55.837177066144697 ], [ 37.659765274373299, 55.837179570706198 ], [ 37.659762709095403, 55.837180642838902 ], [ 37.659775003857398, 55.837189716384898 ] ] ] } }
];

// =======================
// 🌗 Переключение темы
// =======================
document.addEventListener('DOMContentLoaded', () => {
  const themeToggle = document.querySelector('#dashboard .theme-toggle, #objects .theme-toggle');
  if (themeToggle) {
    themeToggle.addEventListener('click', () => {
      const html = document.documentElement;
      const cur = html.getAttribute('data-theme');
      const nxt = cur === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', nxt);
      localStorage.setItem('theme', nxt);
    });
  }

  const saved = localStorage.getItem('theme');
  if (saved) document.documentElement.setAttribute('data-theme', saved);
});

// =======================
// 🛠 Универсальные утилиты
// =======================
function parseRangeToTimestamps(rangeStr) {
  const [start, end] = rangeStr.split('-');
  const parse = ds => {
    const [d, m, y] = ds.split('.');
    return Date.UTC(+y, +m - 1, +d);
  };
  return { start: parse(start), end: parse(end) };
}

function getUnique(data, keyOrFn) {
  return [...new Set(data.map(typeof keyOrFn === 'function' ? keyOrFn : o => o[keyOrFn]))].filter(Boolean);
}

// =======================
// 🎛 Фильтрация
// =======================
function applyDashboardFilters(data) {
  const dash = document.getElementById('dashboard');
  if (!dash) return data;

  const get = sel => dash.querySelector(sel)?.value || '';
  const startDate = dash.querySelector('#dashboardDateStart')?.value;
  const endDate = dash.querySelector('#dashboardDateEnd')?.value;

  return data.filter(o => {
    if (get('#dashboardDistrictFilter') && o.district !== get('#dashboardDistrictFilter')) return false;
    if (get('#dashboardFilterArea') && o.area !== get('#dashboardFilterArea')) return false;
    if (get('#dashboardFilterCustomer') && o.customer !== get('#dashboardFilterCustomer')) return false;
    if (get('#dashboardFilterContractor') && o.contractor !== get('#dashboardFilterContractor')) return false;
    if (get('#dashboardStatusObject') && o.statusObject !== get('#dashboardStatusObject')) return false;
    if (get('#dashboardStatusCheck') && o.statusCheck !== get('#dashboardStatusCheck')) return false;
    if (get('#dashboardYear') && !o.dates.includes(get('#dashboardYear'))) return false;

    if (startDate || endDate) {
      const { start, end } = parseRangeToTimestamps(o.dates);
      const from = startDate ? new Date(startDate).getTime() : null;
      const to = endDate ? new Date(endDate).getTime() : null;
      if ((from && end < from) || (to && start > to)) return false;
    }

    return true;
  });
}

function setupDashboardFilterListeners() {
  const dash = document.getElementById('dashboard');
  if (!dash) return;

  const ids = [
    '#dashboardDistrictFilter', '#dashboardFilterArea', '#dashboardFilterCustomer',
    '#dashboardFilterContractor', '#dashboardStatusObject', '#dashboardStatusCheck',
    '#dashboardYear', '#dashboardDateStart', '#dashboardDateEnd'
  ];

  ids.forEach(sel => {
    const el = dash.querySelector(sel);
    if (el) {
      el.addEventListener('change', () => {
        const filtered = applyDashboardFilters(objectsData);
        renderTriplePieCharts(filtered);
        renderKpi(filtered);
        renderGantt(filtered);
        renderMap(filtered);
        renderLineChart(filtered);
        renderRanking(filtered);
      });
    }
  });
}

function fillDashboardFilters(data) {
  const dash = document.getElementById('dashboard');
  if (!dash) return;

  const fill = (sel, values, placeholder = 'Все') => {
    const el = dash.querySelector(sel);
    if (!el) return;
    el.innerHTML = `<option value="">${placeholder}</option>`;
    values.forEach(val => {
      const opt = document.createElement('option');
      opt.value = val;
      opt.textContent = val;
      el.appendChild(opt);
    });
  };

  fill('#dashboardFilterArea', getUnique(data, 'area'), 'Район');
  fill('#dashboardFilterCustomer', getUnique(data, 'customer'), 'Заказчик');
  fill('#dashboardFilterContractor', getUnique(data, 'contractor'), 'Подрядчик');
  fill('#dashboardStatusObject', getUnique(data, 'statusObject'), 'Статус объекта');
  fill('#dashboardStatusCheck', getUnique(data, 'statusCheck'), 'Статус проверки');
  fill('#dashboardYear', getUnique(data, o => (o.dates?.split('.')?.[2])), 'Год проведения');
}

